var OTCMP;(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{startSDK:()=>o,getDataSubjectIdentifier:()=>n,setDataSubjectIdentifier:()=>r,getOTSDKData:()=>s,shouldShowBanner:()=>a,getPurposesList:()=>l,getSavedProfile:()=>c,updatePurposeConsent:()=>u,updatePurposeLegitInterest:()=>i,saveConsent:()=>g,preferenceCenterClose:()=>h,clearOTSDKData:()=>f,getConsentStatus:()=>m,downloadStorageDisclosure:()=>D,getGoogleVendorList:()=>_,getVendorList:()=>b,getVendorDetails:()=>L,getSavedVendorConsents:()=>P,getSavedGoogleVendorConsents:()=>y,getSavedVendorLegitInterest:()=>N,toggleVendorsConsentUi:()=>A,updateVendorConsent:()=>B,updateVendorLegitInterest:()=>x,getBannerData:()=>j,getPreferenceCenterData:()=>M,getVendorPageData:()=>J,setupUI:()=>K,OTSDK_logger:()=>H,filterVendorListBy:()=>Ie,OTBackButtonMode:()=>pe,performAutomaticReconsentOverride:()=>Se});const o=async e=>{try{const n=Date.now(),s=localStorage.getItem("OneTrust_sdk_keys");s&&btoa(JSON.stringify(e))!==s&&f();const a=new Headers;let l=!1;a.append("location",e.storageLocation),a.append("application",e.domainIdentifier),a.append("lang",e.languageCode),a.append("sdkVersion",e.apiVersion),e.hasOwnProperty("countryCodeOverride")&&a.append("OT-Country-Code",e.countryCodeOverride),e.hasOwnProperty("regionCodeOverride")&&a.append("OT-Region-Code",e.regionCodeOverride),e.hasOwnProperty("syncProfileAuth")&&(a.append("syncProfileAuth",e.syncProfileAuth),a.append("fetchType","APP_DATA_AND_SYNC_PROFILE")),e.hasOwnProperty("identifier")&&(r(e.identifier),a.append("identifier",e.identifier)),e.hasOwnProperty("syncProfileAuth")&&a.append("profileSyncETag","");const c={method:"GET",headers:a,redirect:"follow"},u=Date.now(),i=await fetch(e.domaindata_url,c).catch((e=>{throw e}));if(!i.ok)throw H("response.statusText -> "+i.statusText),new Error(i.statusText);const g=await i.json();Ce(1,u,Date.now()),H("response -> "+JSON.stringify(g));const d=g.culture.DomainData.Groups;for(const e in d){const t=d[e];"IAB2_SPL_FEATURE"===t.Type&&(t.HasLegIntOptOut=!1)}const I=g.status.profile.code;if(I&&200===I){const e=g.profile.sync.preferences;for(const t in e){const o=e[t],n=o.id;if(o.updatedAfterSync){const e=Y(n,g);if(e){const t=Q(o.status,g),n="OneTrust_CustomGroupId_"+e;localStorage.setItem(n,t),l=!0}}}if(g.profile.sync.hasOwnProperty("parentToggleState")){const e=g.profile.sync.parentToggleState;for(const[t,o]of Object.entries(e)){const e=Q(o,g),n="OneTrust_CustomGroupId_"+t;localStorage.setItem(n,e)}}if(g.profile.fetch.hasOwnProperty("syncGroups")){const e=g.profile.fetch.syncGroups,n=g.domain.SyncGroupId;if(e.hasOwnProperty(n)){const r=e[n].tcStringV2Decoded.purpose.legitimateInterests.split("");for(var t=0;t<r.length-1;t++){const e="OneTrust_CustomGroupId_LI_IABV2_"+(t+1);var o="inactive";"1"===r[t]&&(o="active"),localStorage.setItem(e,o)}}}}const C=g.culture.DomainData.LastReconsentDate;if(null!=C){const e=localStorage.getItem("OneTrust_lastConsentDate");e&&parseFloat(e)<parseFloat(C)&&le()}const p=localStorage.getItem("OneTrust_lastConsentDate");if(p){const e=g.culture.DomainData.ReconsentFrequencyDays;if(null!=e){const t=new Date(parseFloat(p)),o=(new Date).getTime()-t.getTime();Math.ceil(o/864e5)>e&&le()}}return localStorage.setItem("OneTrust_sdk_data",JSON.stringify(g)),localStorage.setItem("OneTrust_sdk_keys",btoa(JSON.stringify(e))),I&&200===I&&g.profile.sync.shouldShowBannerAsConsentExpired&&le(),await v(),g.culture.MobileData.preferenceCenterData.googleVendors.general.show&&await O(),k(),l&&G(),ce(),Ce(4,n,Date.now()),g}catch(e){throw e}};function n(){let e=localStorage.getItem("OneTrust_datasubjectID");return e||(e=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))),e=btoa(e),localStorage.setItem("OneTrust_datasubjectID",e),localStorage.setItem("OneTrust_datasubjectID_known","false")),atob(e)}function r(e){localStorage.setItem("OneTrust_datasubjectID",btoa(e)),localStorage.setItem("OneTrust_datasubjectID_known","true")}function s(){const e=localStorage.getItem("OneTrust_sdk_data");return JSON.parse(e)}function a(){try{const e=s();if(!e)throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";return e.culture.DomainData.ShowAlertNotice?function(){const e=s();if(!e)throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";let t=!0;const o=e.culture.DomainData.LastReconsentDate;if(o&&o.toString().trim().length>0){const e=localStorage.getItem("OneTrust_lastConsentDate");e&&(t=!(parseFloat(o)>parseFloat(e)))}return t}()?function(){const e=localStorage.getItem("OneTrust_lastConsentDate");if(e){const t=s().culture.DomainData.ReconsentFrequencyDays;if(null!=t){const o=new Date(parseFloat(e)),n=(new Date).getTime()-o.getTime();if(Math.ceil(n/864e5)>t)return!0}}return!1}()?(H("shouldShowBanner -> true because didReconsentFrequencyDaysExpire === true"),!0):se()&&function(){let e=!1;const t=s().profile.sync.allPurposesUpdatedAfterSync;return t&&(e=t),e}()?(H("shouldShowBanner -> false because allPurposesUpdatedAfterSync === true "),!1):se()&&function(){const e=[];ne().forEach((function(t){e.push(t.CustomGroupId)}));let t=localStorage.getItem("OneTrust_categoriesAvailableLastInteraction");if(t){t=JSON.parse(t);const r=[],s=[];return(o=t,n=e,[...o,...n].filter((e=>!(o.includes(e)&&n.includes(e))))).forEach(((t,o)=>{-1===e.indexOf(t)?s.push(t):r.push(t)})),H("New categories ->"+JSON.stringify(r)),H("Deleted categories  ->"+JSON.stringify(s)),r.length>0}var o,n;return!1}()?(H("shouldShowBanner -> true because we're cross-device and we have new categories since last interaction."),!0):localStorage.getItem("OneTrust_lastConsentDate")?(H("shouldShowBanner -> false because user already taken action locally: OneTrust_lastConsentDate = "+localStorage.getItem("OneTrust_lastConsentDate")),!1):(H("shouldShowBanner -> true - no other rules match."),!0):(H("shouldShowBanner -> true because lastReconsentDatesMatch === false"),!0):(H("shouldShowBanner -> false because culture.DomainData.ShowAlertNotice is false"),!1)}catch(e){throw e}}function l(){try{const e=s();if(!e)throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";const t=[],o=ne();e.culture.DomainData.VendorConsentModel.toLowerCase();let n=[];const r=localStorage.getItem("OneTrust_saveQueue");r&&r.length>0&&(n=JSON.parse(r));for(const e in o){if(!o.hasOwnProperty(e))continue;const r=o[e],s=r.CustomGroupId;let a=r.Status,l="OneTrust_CustomGroupId_"+s,c=localStorage.getItem(l);c&&(a=c),"IABV2_1"===s&&1===oe()&&(a="inactive"),r.Status=a,r.UIState_Status=a;let u=n.filter((function(e){return e.storageKeyName==="OneTrust_CustomGroupId_"+s}));if(u&&u.length>0&&(r.UIState_Status=u[0].newValue),r.HasLegIntOptOut){let e="active";l="OneTrust_CustomGroupId_LI_"+s,c=localStorage.getItem(l),c&&(e=c),r.UIState_LI=e,r.LI=e,u=n.filter((function(e){return e.storageKeyName==="OneTrust_CustomGroupId_LI_"+s})),u&&u.length>0&&(r.UIState_LI=u[0].newValue)}t.push(r)}return t}catch(e){throw e}}function c(){try{const e=s();if(!e)throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";const t={},o=ne(),n="opt-out"===e.culture.DomainData.VendorConsentModel.toLowerCase();let r;for(const e in o){if(r={},!o.hasOwnProperty(e))continue;const s=o[e];if(s.isParent)continue;const a=s.CustomGroupId;let l=s.Status,c="OneTrust_CustomGroupId_"+a,u=localStorage.getItem(c);if(u&&(l=u),"IABV2_1"===a&&1===oe()&&(l="inactive"),r.consent="inactive"!==l,s.HasLegIntOptOut){let e=n?"active":"inactive";c="OneTrust_CustomGroupId_LI_"+a,localStorage.hasOwnProperty(c)&&(e=localStorage.getItem(c)),r.legitInt="inactive"!==e}r.name=s.GroupName,r.type=s.Type,r.purposeId=s.PurposeId,t[a]=r}return t}catch(e){throw e}}function u(e,t){try{if(!s())throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";const n="OneTrust_CustomGroupId_"+e;let r=[];const a=localStorage.getItem("OneTrust_saveQueue");a&&a.length>0&&(r=JSON.parse(a));const c=l();for(const s in c){const a=c[s];if(a.CustomGroupId===e){const s=a.Status;if("active"===s||"inactive"===s.toLowerCase()){for(var o=0;o<r.length;o++)r[o].storageKeyName===n&&(r.splice(o,1),o--);r.push({storageKeyName:n,CustomGroupId:e,newValue:t?"active":"inactive"})}break}}localStorage.setItem("OneTrust_saveQueue",JSON.stringify(r))}catch(e){throw e}}function i(e,t){try{if(!s())throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";const o="OneTrust_CustomGroupId_LI_"+e;let n=[];const r=localStorage.getItem("OneTrust_saveQueue");r&&r.length>0&&(n=JSON.parse(r));const a=l();for(const r in a){const s=a[r];if(s.CustomGroupId===e){if(s.HasLegIntOptOut){for(let e=0;e<n.length;e++)n[e].storageKeyName===o&&(n.splice(e,1),e--);n.push({storageKeyName:o,CustomGroupId:e,newValue:t?"active":"inactive"})}break}}localStorage.setItem("OneTrust_saveQueue",JSON.stringify(n))}catch(e){throw e}}async function g(e){switch(e){case"bannerAllowAll":return d();case"bannerRejectAll":return I();case"bannerClose":return C();case"preferenceCenterAllowAll":return T();case"preferenceCenterRejectAll":return S();case"preferenceCenterConfirm":return(async()=>{let e;try{if(H("onPreferenceCenterConfirmChoices called"),!s())throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";let t=[];const o=localStorage.getItem("OneTrust_saveQueue");o&&o.length>0&&(t=JSON.parse(o));for(const o in t)e=t[o],e&&localStorage.setItem(e.storageKeyName,e.newValue);const n=l(),r=[];for(const t in n){e=n[t];let o="UNKNOWN";const s=e.Status.toString(),a=e.PurposeId;if("active"===s?o="CONFIRMED":"inactive"===s.toLowerCase()?o="OPT_OUT":"always active"===s.toLowerCase()?o="NO_CHOICE":"inactive landingpage"===s.toLowerCase()&&(o="CONFIRMED"),a&&a.toString().trim().length>0&&"UNKNOWN"!==o){const e={};e.Id=a,e.TransactionType=o,r.push(e)}}await V();const a=await ae(r,"Preference Center - Confirm");return localStorage.setItem("OneTrust_saveQueue",JSON.stringify([])),await q(),ce(),a}catch(e){throw e}})();case"bannerBack":return p()}}const d=async()=>{try{if(!s())throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";H("onBannerClickedAcceptAll called"),R(),E();const e=l(),t=[];for(const o in e){const n=e[o];let r="UNKNOWN";const s=n.Status.toString(),a=n.PurposeId,l=n.CustomGroupId;let c="OneTrust_CustomGroupId_"+l;if("active"===s?(r="CONFIRMED",localStorage.setItem(c,s)):"inactive"===s.toLowerCase()?(r="CONFIRMED",localStorage.setItem(c,"active")):"always active"===s.toLowerCase()?(r="NO_CHOICE",localStorage.setItem(c,s)):"inactive landingpage"===s.toLowerCase()&&(r="CONFIRMED",localStorage.setItem(c,s)),a&&a.toString().trim().length>0&&"UNKNOWN"!==r){const e={};e.Id=a,e.TransactionType=r,t.push(e)}n.LI&&(c="OneTrust_CustomGroupId_LI_"+l,localStorage.setItem(c,"active"))}await F(!0);const o=await ae(t,"Banner - Allow All");return await q(),ce(),o}catch(e){throw e}},I=async()=>{try{if(H("onBannerClickedRejectAll called"),!s())throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";R(),E();var e=l(),t=[];for(var o in e){var n=e[o],r="UNKNOWN",a=n.Status.toString(),c=n.PurposeId,u=n.CustomGroupId,i="OneTrust_CustomGroupId_"+u;if("active"===a?(r="OPT_OUT",localStorage.setItem(i,"inactive")):"inactive"===a.toLowerCase()?(r="OPT_OUT",localStorage.setItem(i,a)):"always active"===a.toLowerCase()?(r="NO_CHOICE",localStorage.setItem(i,a)):"inactive landingpage"===a.toLowerCase()&&(r="OPT_OUT",localStorage.setItem(i,a)),c&&c.toString().trim().length>0&&"UNKNOWN"!==r){var g={};g.Id=c,g.TransactionType=r,t.push(g)}n.LI&&(i="OneTrust_CustomGroupId_LI_"+u,localStorage.setItem(i,"inactive"))}await F(!1);const d=await ae(t,"Banner - Reject All");return await q(),ce(),d}catch(e){throw e}},C=async()=>{try{if(H("onBannerClose called"),!s())throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";R(),E();var e=l(),t=[];for(var o in e){var n=e[o],r="UNKNOWN",a=n.Status.toString(),c=n.PurposeId,u=n.CustomGroupId,i="OneTrust_CustomGroupId_"+u;if("active"===a?(r="CONFIRMED",localStorage.setItem(i,a)):"inactive"===a.toLowerCase()?(r="NOTGIVEN",localStorage.setItem(i,a)):"always active"===a.toLowerCase()?(r="NO_CHOICE",localStorage.setItem(i,a)):"inactive landingpage"===a.toLowerCase()&&(r="CONFIRMED",localStorage.setItem(i,a)),c&&c.toString().trim().length>0&&"UNKNOWN"!==r){var g={};g.Id=c,g.TransactionType=r,t.push(g)}if(n.LI){var d="opt-out"===s().culture.DomainData.VendorConsentModel.toLowerCase()?"active":"inactive";i="OneTrust_CustomGroupId_LI_"+u,localStorage.setItem(i,d)}}const I=await ae(t,"Banner - Close");return await q(),ce(),H("ON_HIDE_BANNER"),I}catch(e){throw e}},p=async()=>{try{const e=localStorage.getItem("OneTrust_backButtonMode");return H("onBannerBack called"),null!==e?"DISMISS_BANNER"===e?(await q(),H("Dismiss Banner UI"),{info:"Dismiss the banner UI"}):(H("Dismiss Banner UI & save consent"),await C()):{error:"NO_ACTION"}}catch(e){throw e}},T=async()=>{try{if(!s())throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";R(),E();const e=l(),t=[];for(const o in e){const n=e[o];let r="UNKNOWN";const s=n.Status.toString(),a=n.PurposeId,l=n.CustomGroupId;let c="OneTrust_CustomGroupId_"+l;if("always active"===s.toLowerCase()?(r="NO_CHOICE",localStorage.setItem(c,s)):(r="CONFIRMED",localStorage.setItem(c,"active")),a&&a.toString().trim().length>0&&"UNKNOWN"!==r){const e={};e.Id=a,e.TransactionType=r,t.push(e)}n.LI&&(c="OneTrust_CustomGroupId_LI_"+l,localStorage.setItem(c,"active"))}await F(!0);const o=await ae(t,"Preference Center - Allow All");return await q(),ce(),o}catch(e){throw e}},S=async()=>{try{if(!s())throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";R(),E();var e=l(),t=[];for(var o in e){var n=e[o],r="UNKNOWN",a=n.Status.toString(),c=n.PurposeId,u=n.CustomGroupId,i="OneTrust_CustomGroupId_"+u;if("active"===a?(r="OPT_OUT",localStorage.setItem(i,"inactive")):"inactive"===a.toLowerCase()?(r="OPT_OUT",localStorage.setItem(i,a)):"always active"===a.toLowerCase()?(r="NO_CHOICE",localStorage.setItem(i,a)):"inactive landingpage"===a.toLowerCase()&&(r="CONFIRMED",localStorage.setItem(i,a)),c&&c.toString().trim().length>0&&"UNKNOWN"!==r){var g={};g.Id=c,g.TransactionType=r,t.push(g)}n.LI&&(i="OneTrust_CustomGroupId_LI_"+u,localStorage.setItem(i,"inactive"))}await F(!1);const d=await ae(t,"Preference Center - Reject All");return await q(),ce(),d}catch(e){throw e}},h=async()=>{try{return R(),void E()}catch(e){throw e}};function f(){for(let e=localStorage.length-1;e>=0;e--){const t=localStorage.key(e);(t.startsWith("OneTrust_")||t.startsWith("IABTCF_"))&&localStorage.removeItem(t)}localStorage.removeItem("IABUSPrivacy_String")}function m(e){try{const t=l();for(const o in t){const n=t[o];if(n.CustomGroupId===e)return n.Status.toString()}return"UNKNOWN"}catch(e){throw e}}const O=async()=>{try{const e=s();if(!e)throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";if(!W())return{info:"not IAB2 - vendor list not needed"};if(!e.culture.MobileData.preferenceCenterData.googleVendors.general.show)return void H("downloadGoogleVendorList -> Google vendor is not enabled for this template");const t=e.domain.GoogleData;if(!t)return void H("downloadGoogleVendorList -> MISSING GoogleData NODE FROM getOTSDKData");const o=t.googleVendorListUrl;if(!o)return void H("downloadGoogleVendorList -> MISSING googleVendorListUrl NODE FROM IabV2Data node");const n=new Headers;n.append("Content-Type","application/json"),n.append("cache-control","no-cache");const r={method:"GET",headers:n,redirect:"follow"},a=Date.now(),l=await fetch(o,r).catch((e=>{throw e}));if(!l.ok)throw H("response.statusText -> "+l.statusText),new Error(l.statusText);const c=await l.json();Ce(3,a,Date.now());const u=e.culture.DomainData,i=u.VendorConsentModel,g=u.OverridenGoogleVendors,d="opt-out"===i.toLowerCase(),I=y(),C=c.vendors,p=Object.keys(C);for(let e=0;e<p.length;e++){const t=C[p[e]],o=t.id;t.shouldShowVendor=!0,t.shouldShowConsentToggleForVendor=!0,t.vendorConsentToggleIsOn=d,t.purposes=[],t.legIntPurposes=[],t.specialPurposes=[],t.features=[],t.specialFeatures=[];const n=g[o];n&&(t.shouldShowVendor=n.active),I.hasOwnProperty(o)&&(t.vendorConsentToggleIsOn=I[o]),t.UIState_vendorConsentToggleIsOn=t.vendorConsentToggleIsOn}return localStorage.setItem("OneTrust_Google_VendorList",JSON.stringify(c)),c}catch(e){throw e}},v=async()=>{try{const r=s();if(!r)throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";if(!W())return{info:"not IAB2 - vendor list not needed"};const a=r.domain.IabV2Data;if(!a)throw"MISSING IabV2Data NODE FROM getOTSDKData";const l=a.globalVendorListUrl;if(!l)throw"MISSING globalVendorListUrl NODE FROM IabV2Data node";const c=new Headers;c.append("Content-Type","application/json"),c.append("cache-control","no-cache");const u={method:"GET",headers:c,redirect:"follow"},i=Date.now(),g=await fetch(l,u).catch((e=>{throw e}));if(!g.ok)throw H("response.statusText -> "+g.statusText),new Error(g.statusText);const d=await g.json();Ce(2,i,Date.now());const I=r.culture.DomainData,C=I.OverriddenVendors,p="opt-out"===I.VendorConsentModel.toLowerCase(),T=P(),S=N(),h=function(e){const t={};try{const o=Object.keys(e);if(0===o.length)return t;for(const n in o){const r=o[n],s=e[r],a=Object.keys(s);for(const e in a){const o=a[e],n=parseInt(s[o]);if(n>=0&&n<=2){const e=o.toString(),s=n.toString();t.hasOwnProperty(e)||(t[e]={0:[],1:[],2:[]}),t[e][s].push(parseInt(r))}}}return t}catch(e){return H("publisher Restrictions error -> "+e.message),t}}(I.publisher.restrictions),f=r.domain.SyncGroupId,m=r.profile.fetch;var e=null,t=null;if(m.hasOwnProperty("syncGroups")&&m.syncGroups.hasOwnProperty(f)&&!he()){const o=m.syncGroups[f],n=o.tcStringV2Decoded.vendor.consents,r=o.tcStringV2Decoded.vendor.legitimateInterests;e=n.split(""),t=r.split("")}var o=0;const O=d.vendors,v=Object.keys(O);for(var n=0;n<v.length;n++){const r=O[v[n]],s=r.id;s>o&&(o=s),r.shouldShowVendor=!0,r.shouldShowConsentToggleForVendor=r.purposes.length>0,r.vendorConsentToggleIsOn=p,r.shouldShowLegitimateInterestToggleForVendor=r.legIntPurposes.length>0,r.vendorLegitimateInterestToggleIsOn=!0;const a=C[s];a&&(r.shouldShowVendor=a.active,r.shouldShowConsentToggleForVendor=a.consent,r.shouldShowLegitimateInterestToggleForVendor=a.legInt);const l=s.toString();h.hasOwnProperty(l)&&(h[l][0].forEach((function(e){d.vendors[l].purposes=d.vendors[l].purposes.filter((function(t){return t!==e})),d.vendors[l].legIntPurposes=d.vendors[l].legIntPurposes.filter((function(t){return t!==e}))})),h[l][1].forEach((function(e){d.vendors[l].legIntPurposes.indexOf(e)>=0&&(d.vendors[l].purposes=d.vendors[l].purposes.filter((function(t){return t!==e})),d.vendors[l].legIntPurposes=d.vendors[l].legIntPurposes.filter((function(t){return t!==e})),d.vendors[l].purposes.push(e),d.vendors[l].purposes=d.vendors[l].purposes.sort())})),h[l][2].forEach((function(e){d.vendors[l].purposes.indexOf(e)>=0&&(d.vendors[l].purposes=d.vendors[l].purposes.filter((function(t){return t!==e})),d.vendors[l].legIntPurposes=d.vendors[l].legIntPurposes.filter((function(t){return t!==e})),d.vendors[l].legIntPurposes.push(e),d.vendors[l].legIntPurposes=d.vendors[l].legIntPurposes.sort())}))),r.shouldShowVendor&&T.hasOwnProperty(s)&&(r.vendorConsentToggleIsOn=T[s]),r.shouldShowVendor&&S.hasOwnProperty(s)&&(r.vendorLegitimateInterestToggleIsOn=S[s]),!r.shouldShowConsentToggleForVendor&&r.vendorConsentToggleIsOn&&(r.vendorConsentToggleIsOn=!1),!r.shouldShowLegitimateInterestToggleForVendor&&r.vendorLegitimateInterestToggleIsOn&&(r.vendorLegitimateInterestToggleIsOn=!1),r.shouldShowVendor||(r.vendorConsentToggleIsOn=!1,r.vendorLegitimateInterestToggleIsOn=!1,r.shouldShowConsentToggleForVendor=!1,r.shouldShowLegitimateInterestToggleForVendor=!1);const c=parseInt(s)-1;null!==e&&(0===e.length?r.vendorConsentToggleIsOn=!1:r.vendorConsentToggleIsOn=w(e[c])),null!==t&&(0===t.length?r.vendorLegitimateInterestToggleIsOn=!1:r.vendorLegitimateInterestToggleIsOn=w(t[c])),r.UIState_vendorConsentToggleIsOn=r.vendorConsentToggleIsOn,r.UIState_vendorLegitimateInterestToggleIsOn=r.vendorLegitimateInterestToggleIsOn}return localStorage.setItem("OneTrust_VendorList",JSON.stringify(d)),localStorage.setItem("OneTrust_VendorList_maxVendorID",o),localStorage.setItem("OneTrust_vendorList_Date",((new Date).getTime()/1e3).toString()),d}catch(e){throw e}};function w(e){return"1"===e}const D=async e=>{try{if(!s())throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";if(!W())return{info:"Supported only for IAB2"};const t=new Headers;t.append("Content-Type","application/json");const o={method:"GET",headers:t,redirect:"follow"},n=await fetch(e,o).catch((e=>{throw e})),r=e=>(e&&e.statusText?H("response.statusText -> "+e.statusText):H("response.statusText ->  Error downloading vendor storage disclosure"),{code:"err"});return await(n.status>400||"application/json"!==n.headers.get("Content-Type"))?r():n.json()}catch(e){throw e}};function _(){const e=localStorage.getItem("OneTrust_Google_VendorList");return e?JSON.parse(e):{}}function b(){const e=localStorage.getItem("OneTrust_VendorList");return e?JSON.parse(e):{}}function L(e){return b().vendors[e.toString()]}function P(){const e=localStorage.getItem("OneTrust_vendorConsentUserSelections");return e?JSON.parse(e):{}}function y(){const e=localStorage.getItem("OneTrust_vendorGoogleConsentUserSelections");return e?JSON.parse(e):{}}function N(){const e=localStorage.getItem("OneTrust_vendorLIUserSelections");return e?JSON.parse(e):{}}function A(e,t=null){try{if(!s())throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";const o=b();if(!o||!o.vendors)return;const n=[];if(t)for(let r in t){const s=t[r],a=o.vendors[s];a&&a.shouldShowConsentToggleForVendor&&(a.UIState_vendorConsentToggleIsOn=e,n.push({vendorId:s,newValue:e}))}else for(const t in o.vendors){const r=o.vendors[t];r.shouldShowConsentToggleForVendor&&(r.UIState_vendorConsentToggleIsOn=e,n.push({vendorId:t,newValue:e}))}localStorage.setItem("OneTrust_VendorList",JSON.stringify(o)),localStorage.setItem("OneTrust_saveQueue_vendor",JSON.stringify(n))}catch(e){throw e}}const F=async e=>{try{if(!s())throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";R();var t=b();if(!t||!t.vendors)return;var o=P(),n=N(),r=t.vendors;for(var a in r)(i=r[a]).shouldShowConsentToggleForVendor&&(o[a]=e,i.vendorConsentToggleIsOn=e),i.shouldShowLegitimateInterestToggleForVendor&&(n[a]=e,i.vendorLegitimateInterestToggleIsOn=e),i.UIState_vendorConsentToggleIsOn=i.vendorConsentToggleIsOn,i.UIState_vendorLegitimateInterestToggleIsOn=i.vendorLegitimateInterestToggleIsOn;localStorage.setItem("OneTrust_vendorConsentUserSelections",JSON.stringify(o)),localStorage.setItem("OneTrust_vendorLIUserSelections",JSON.stringify(n)),localStorage.setItem("OneTrust_VendorList",JSON.stringify(t));var l=_();if(l&&l.vendors){var c=y(),u=l.vendors;for(var a in u){var i;(i=u[a]).shouldShowConsentToggleForVendor&&(c[a]=e,i.vendorConsentToggleIsOn=e),i.UIState_vendorConsentToggleIsOn=i.vendorConsentToggleIsOn}localStorage.setItem("OneTrust_vendorGoogleConsentUserSelections",JSON.stringify(c)),localStorage.setItem("OneTrust_Google_VendorList",JSON.stringify(l))}return G(),await U()}catch(e){throw e}};function B(e,t){try{var o=[],n=localStorage.getItem("OneTrust_saveQueue_vendor");n&&n.length>0&&(o=JSON.parse(n));for(var r=0;r<o.length;r++)o[r].vendorId===e&&(o.splice(r,1),r--);o.push({vendorId:e,newValue:t});const s=b();if(null!=s.vendors[e.toString()])s.vendors[e.toString()].UIState_vendorConsentToggleIsOn=t,localStorage.setItem("OneTrust_VendorList",JSON.stringify(s));else{const o=_();o.vendors[e.toString()].UIState_vendorConsentToggleIsOn=t,localStorage.setItem("OneTrust_Google_VendorList",JSON.stringify(o))}localStorage.setItem("OneTrust_saveQueue_vendor",JSON.stringify(o))}catch(e){throw e}}function x(e,t){try{var o=[],n=localStorage.getItem("OneTrust_saveQueue_vendor_li");n&&n.length>0&&(o=JSON.parse(n));for(var r=0;r<o.length;r++)o[r].vendorId===e&&(o.splice(r,1),r--);o.push({vendorId:e,newValue:t});const s=b();s.vendors[e.toString()].UIState_vendorLegitimateInterestToggleIsOn=t,localStorage.setItem("OneTrust_VendorList",JSON.stringify(s)),localStorage.setItem("OneTrust_saveQueue_vendor_li",JSON.stringify(o))}catch(e){throw e}}const V=async()=>{try{if(!s())throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";var e=b();if(!e||!e.vendors)return;var t=e.vendors,o=P(),n=N(),r=_(),a=[],l=localStorage.getItem("OneTrust_saveQueue_vendor");l&&l.length>0&&(a=JSON.parse(l));for(const e in a)(i=a[e])&&(o[g=i.vendorId]=i.newValue,t[g]&&(t[g].vendorConsentToggleIsOn=i.newValue,t[g].UIState_vendorConsentToggleIsOn=i.newValue));if(r&&r.vendors){var c=y(),u=r.vendors;for(const e in a)(i=a[e])&&u[g=i.vendorId]&&(c[g]=i.newValue,u[g].vendorConsentToggleIsOn=i.newValue,u[g].UIState_vendorConsentToggleIsOn=i.newValue)}a=[],(l=localStorage.getItem("OneTrust_saveQueue_vendor_li"))&&l.length>0&&(a=JSON.parse(l));for(const e in a){var i,g;(i=a[e])&&(n[g=i.vendorId]=i.newValue,t[g].vendorLegitimateInterestToggleIsOn=i.newValue,t[g].UIState_vendorLegitimateInterestToggleIsOn=i.newValue)}return localStorage.setItem("OneTrust_VendorList",JSON.stringify(e)),localStorage.setItem("OneTrust_vendorLIUserSelections",JSON.stringify(n)),localStorage.setItem("OneTrust_vendorConsentUserSelections",JSON.stringify(o)),localStorage.setItem("OneTrust_saveQueue_vendor",JSON.stringify([])),localStorage.setItem("OneTrust_saveQueue_vendor_li",JSON.stringify([])),localStorage.setItem("OneTrust_Google_VendorList",JSON.stringify(r)),localStorage.setItem("OneTrust_vendorGoogleConsentUserSelections",JSON.stringify(c)),G(),await U()}catch(e){throw e}};function U(){try{if(!b())throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";var e=b().vendors,t={};for(var o in e){var n=e[o],r=n.shouldShowVendor,s=n.vendorConsentToggleIsOn,a=n.vendorLegitimateInterestToggleIsOn,l=n.shouldShowLegitimateInterestToggleForVendor,c={vendorID:o,shouldShowVendor:r,shouldShowConsentToggleForVendor:n.shouldShowConsentToggleForVendor,vendorConsentToggleIsOn:s,shouldShowLegitimateInterestToggleForVendor:l,vendorLegitimateInterestToggleIsOn:a,UIState_vendorConsentToggleIsOn:n.vendorConsentToggleIsOn,UIState_vendorLegitimateInterestToggleIsOn:n.vendorLegitimateInterestToggleIsOn};t[o]=c}return t}catch(e){throw e}}function E(){localStorage.setItem("OneTrust_saveQueue",JSON.stringify([]))}function R(){localStorage.setItem("OneTrust_saveQueue_vendor",JSON.stringify([])),localStorage.setItem("OneTrust_saveQueue_vendor_li",JSON.stringify([]))}function G(){try{const e=s();if(!e)throw"YOU MUST FIRST INIT OTSDK BEFORE CALLING THIS FUNCTION";if(!W())return"";const t=JSON.parse(atob(localStorage.getItem("OneTrust_sdk_keys"))),o=e.domain.IabV2Data;if(!o)throw"MISSING IabV2Data NODE FROM getOTSDKData";if(!o.globalVendorListUrl)throw"MISSING globalVendorListUrl NODE FROM IabV2Data node";if(!b())throw"MISSING localStorage.OneTrust_VendorList";const n=localStorage.getItem("OneTrust_VendorList_maxVendorID");if(!n)throw"MISSING localStorage.OneTrust_VendorList_maxVendorID";const r={},a=o.updatedTime;r.Version=2,r.Created=new Date,null!=a&&(r.Created=new Date(a+"Z")),r.LastUpdated=new Date,r.CmpId=o.cmpId,r.CmpVersion=o.cmpVersion,r.ConsentScreen=o.consentScreen,r.ConsentLanguage=t.languageCode,r.PublisherCC=e.domain.PublisherCC,r.VendorListVersion=b().vendorListVersion,r.TcfPolicyVersion=b().tcfPolicyVersion,r.PurposesConsent=$("IAB2_PURPOSE","Status"),r.PurposesLITransparency=$("IAB2_PURPOSE","LI"),r.SpecialFeatureOptins=$("IAB2_SPL_FEATURE","Status"),r.VendorConsents=function(){const e=[],t=b();if(null==t)return e;const o=t.vendors;if(null==o)return e;for(const t in o){const n=o[t];n.shouldShowVendor&&n.shouldShowConsentToggleForVendor&&n.vendorConsentToggleIsOn&&e.push(parseInt(n.id))}return e}(),r.VendorLegitimateInterest=function(){const e=[],t=b();if(null==t)return e;const o=t.vendors;if(null==o)return e;for(const t in o){const n=o[t];n.shouldShowVendor&&n.shouldShowLegitimateInterestToggleForVendor&&n.vendorLegitimateInterestToggleIsOn&&e.push(parseInt(n.id))}return e}(),r.OOBVendorsAllowed=[],r.DisclosedVendors=[],r.AllowedVendors=[],r.NumCustomPurposes=0,r.CustomPurposesConsent=[],r.CustomPurposesLITransparency=[],r.PurposeOneTreatment=oe(),r.IsServiceSpecific=1,r.UseNonStandardStacks=0,r.gdprApplies=1,r.PublisherRestrictions=e.culture.DomainData.publisher.restrictions,r.maxVendorIDFromVendorList=parseInt(n);const l=function(e){let t=[],o="",n="",r=0;try{localStorage.setItem("IABTCF_gdprApplies",e.gdprApplies),t.push(X(e.Version,6)),t.push(Z(e.Created,36)),t.push(Z(e.LastUpdated,36)),t.push(X(e.CmpId,12)),localStorage.setItem("IABTCF_CmpSdkID",e.CmpId),t.push(X(e.CmpVersion,12)),localStorage.setItem("IABTCF_CmpSdkVersion",e.CmpVersion),t.push(X(e.ConsentScreen,6)),t.push(function(e){const t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];let o=0,n=null,r=null;try{if(2!==e.toString().trim().length)throw"consent language must be length of two characters";return o=t.indexOf(e.charAt(0).toUpperCase()),n=X(o,6),o=t.indexOf(e.charAt(1).toUpperCase()),r=X(o,6),n.concat(r)}catch(e){throw e}}(e.ConsentLanguage)),t.push(X(e.VendorListVersion,12)),t.push(X(e.TcfPolicyVersion,6)),localStorage.setItem("IABTCF_PolicyVersion",e.TcfPolicyVersion),t.push(X(e.IsServiceSpecific,1)),t.push(X(e.UseNonStandardStacks,1)),localStorage.setItem("IABTCF_UseNonStandardStacks",e.UseNonStandardStacks),t.push(z(e.SpecialFeatureOptins,12)),localStorage.setItem("IABTCF_SpecialFeaturesOptIns",t[t.length-1]),t.push(z(e.PurposesConsent,24)),localStorage.setItem("IABTCF_PurposeConsents",t[t.length-1]),localStorage.setItem("IABTCF_PublisherConsent",t[t.length-1]),t.push(z(e.PurposesLITransparency,24)),localStorage.setItem("IABTCF_PurposeLegitimateInterests",t[t.length-1]),localStorage.setItem("IABTCF_PublisherLegitimateInterests",t[t.length-1]),t.push(X(e.PurposeOneTreatment,1)),localStorage.setItem("IABTCF_PurposeOneTreatment",e.PurposeOneTreatment),t.push(function(e){const t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];let o=0,n=null,r=null;try{if(2!==e.toString().trim().length)throw"publisher country code must be length of two characters";return o=t.indexOf(e.charAt(0).toUpperCase()),n=X(o,6),o=t.indexOf(e.charAt(1).toUpperCase()),r=X(o,6),n.concat(r)}catch(e){throw e}}(e.PublisherCC)),localStorage.setItem("IABTCF_PublisherCC",e.PublisherCC),r=ee(e.VendorConsents),t.push(X(r,16)),t.push(X(0,1)),t.push(z(e.VendorConsents,r)),localStorage.setItem("IABTCF_VendorConsents",t[t.length-1]),r=ee(e.VendorLegitimateInterest),t.push(X(r,16)),t.push(X(0,1)),t.push(z(e.VendorLegitimateInterest,r)),localStorage.setItem("IABTCF_VendorLegitimateInterests",t[t.length-1]);const s=function(e){const t=[],o=[],n=Object.keys(e);for(const t in n){const r=n[t];let s={};s.purposeID=r,s[0]=[],s[1]=[],s[2]=[];const a=e[r],l=Object.keys(a);for(const e in l){const t=l[e],o=parseInt(a[t]);o>=0&&o<=2&&s[o.toString()].push(t)}o.push(s)}let r;for(r=0;r<o.length;r++){const e=o[r],n=e.purposeID;for(let o=0;o<3;o++){const r=e[o];if(r.length>0){let e={};e.purposeID=n,e.restrictionType=o,e.vendors=r,t.push(e)}}}return t}(e.PublisherRestrictions);t.push(X(s.length,12)),localStorage.setItem("IABTCF_PublisherRestrictions",t[t.length-1]),s.length>0&&function(e,t){if(null!=e&&0!==e.length)for(const o in e){const n=e[o],r=parseInt(n.purposeID);t.push(X(r,6));const s=parseInt(n.restrictionType);t.push(X(s,2));const a=n.vendors;t.push(X(a.length,12));for(const e in a){const o=a[e];t.push(X(0,1)),t.push(X(parseInt(o),16))}}}(s,t);const a=e.maxVendorIDFromVendorList;return function(e,t){localStorage.removeItem("IABTCF_PublisherRestrictions1"),localStorage.removeItem("IABTCF_PublisherRestrictions2"),localStorage.removeItem("IABTCF_PublisherRestrictions3"),localStorage.removeItem("IABTCF_PublisherRestrictions4"),localStorage.removeItem("IABTCF_PublisherRestrictions5"),localStorage.removeItem("IABTCF_PublisherRestrictions6"),localStorage.removeItem("IABTCF_PublisherRestrictions7"),localStorage.removeItem("IABTCF_PublisherRestrictions8"),localStorage.removeItem("IABTCF_PublisherRestrictions9"),localStorage.removeItem("IABTCF_PublisherRestrictions10");const o=Object.keys(e);for(let n=0;n<o.length;n++){const r=o[n],s=[];for(let e=0;e<t;e++)s.push("_");const a=e[r],l=Object.keys(a);for(let e=0;e<l.length;e++){const t=l[e],o=a[t],n=parseInt(t)-1;n>=0&&n<s.length&&(s[n]=o)}const c="IABTCF_PublisherRestrictions"+r,u=s.join("");localStorage.setItem(c,u)}}(e.PublisherRestrictions,a),t.push(X(0,12)),o=t.join(""),n=te(o),H("IAB TCF v2 Core ->"+n),n}catch(e){throw e}}(r),c=function(e){const t=[];let o="",n="",r=0;try{return t.push(X(3,3)),t.push(z(e.PurposesConsent,24)),t.push(z(e.PurposesLITransparency,24)),r=e.NumCustomPurposes,t.push(X(r,6)),r>0?(t.push(z(e.CustomPurposesConsent,r)),localStorage.setItem("IABTCF_PublisherCustomPurposesConsents",t[t.length-1]),t.push(z(e.CustomPurposesLITransparency,r)),localStorage.setItem("IABTCF_PublisherCustomPurposesLegitimateInterests",t[t.length-1])):(localStorage.setItem("IABTCF_PublisherCustomPurposesConsents",""),localStorage.setItem("IABTCF_PublisherCustomPurposesLegitimateInterests","")),o=t.join(""),t.push(X(0,o.length)),o=t.join(""),n=te(o),H("PublisherTC ->"+n),n}catch(e){throw e}}(r),u=l+"."+c;return localStorage.setItem("IABTCF_TCString",u),function(e){let t=new Date;t.setTime(t.getTime()+33696e6);const o="expires="+t.toUTCString(),n=new RegExp("^https:","i").test(window.location.protocol)?"Samesite=None; Secure":"Samesite=Lax";document.cookie="eupubconsent-v2="+e+";"+o+";path=/;"+n}(u),H("TC String ->"+u),function(){try{const e=s();if(!e)return;if(!W())return;if(!e.culture.MobileData.preferenceCenterData.googleVendors.general.show)return void H("IABTCF_AddtlConsent ->Google vendor is not enabled for this template");const t=y();let o="1~";for(let e in t)t.hasOwnProperty(e)&&t[e]&&(o=o+"."+e.toString());localStorage.setItem("IABTCF_AddtlConsent",o),H("IABTCF_AddtlConsent ->"+o)}catch(e){H("IABTCF_AddtlConsent ->"+e.toString())}}(),u}catch(e){throw e}}function k(){const e=s().culture.MobileData.ccpaData;if(null==e)return;if(!e.hasOwnProperty("parentCCPACategory"))return;if(!e.hasOwnProperty("ccpaExpNotice"))return;if(!e.hasOwnProperty("computeCCPA"))return;if(!e.computeCCPA)return;if(0===l().length)return;let t="1---",o=m(e.parentCCPACategory);return t="1",t+=!0===e.ccpaExpNotice?"Y":"N",t+="inactive"===o?"Y":"N",t+=!0===e.ccpaLspa?"Y":"N",localStorage.setItem("IABUSPrivacy_String",t),t}function j(){const e=s(),t={};if(!e||0===Object.keys(e).length)return t;const o=e.culture.DomainData,n=e.culture.CommonData,r=e.culture.MobileData;return t.BannerTitle=o.BannerTitle,t.AlertNoticeText=o.AlertNoticeText,t.OptanonLogo=n.OptanonLogo,t.ShowBannerAcceptButton=n.ShowBannerAcceptButton,t.AlertAllowCookiesText=o.AlertAllowCookiesText,t.BannerShowRejectAllButton=o.BannerShowRejectAllButton,t.BannerRejectAllButtonText=o.BannerRejectAllButtonText,t.ShowBannerCookieSettings=n.ShowBannerCookieSettings,t.BContinueColor=n.BContinueColor,t.closeButton=r.bannerData.buttons.closeButton,t.AlertMoreInfoText=o.AlertMoreInfoText,t.styleData=function(){const e=s(),t=(e.culture.DomainData,e.culture.CommonData),o=(e.culture.MobileData,e.culture.OTTData),n=o.bannerData.buttons,r={textColor:"",backgroundColor:"",acceptbuttonColor:"",acceptbuttonTextColor:"",acceptbuttonFocusColor:"",acceptbuttonTextFocusColor:"",rejectbuttonColor:"",rejectbuttonTextColor:"",rejectbuttonFocusColor:"",rejectbuttonTextFocusColor:"",pcbuttonColor:"",pcbuttonTextColor:"",pcbuttonFocusColor:"",pcbuttonTextFocusColor:"",customCSS:t.BannerCustomCSS,vendorLinkColor:""};return r.textColor=null!==o&&null!==o.bannerData&&null!==o.bannerData.general&&null!==o.bannerData.general.textColor&&""!==o.bannerData.general.textColor?o.bannerData.general.textColor:t.TextColor,r.backgroundColor=null!==o&&null!==o.bannerData&&null!==o.bannerData.general&&null!==o.bannerData.general.backgroundColor&&""!==o.bannerData.general.backgroundColor?o.bannerData.general.backgroundColor:t.BackgroundColor,r.acceptbuttonColor=null!==n&&null!==n.acceptAll&&null!==n.acceptAll.color&&""!==n.acceptAll.color?n.acceptAll.color:t.ButtonColor,r.acceptbuttonTextColor=null!==n&&null!==n.acceptAll&&null!==n.acceptAll.textColor&&""!==n.acceptAll.textColor?n.acceptAll.textColor:t.ButtonTextColor,r.acceptbuttonFocusColor=null!==o&&null!==o.bannerData&&null!==o.bannerData.general&&void 0!==o.bannerData.general.buttonFocusColor&&""!==o.bannerData.general.buttonFocusColor?o.bannerData.general.buttonFocusColor:t.ButtonColor,r.acceptbuttonTextFocusColor=null!==o&&null!==o.bannerData&&null!==o.bannerData.general&&void 0!==o.bannerData.general.buttonFocusTextColor&&""!==o.bannerData.general.buttonFocusTextColor?o.bannerData.general.buttonFocusTextColor:t.ButtonTextColor,r.rejectbuttonColor=null!==n&&null!==n.rejectAll&&null!==n.rejectAll.color&&""!==n.rejectAll.color?n.rejectAll.color:t.ButtonColor,r.rejectbuttonTextColor=null!==n&&null!==n.rejectAll&&null!==n.rejectAll.textColor&&""!==n.rejectAll.textColor?n.rejectAll.textColor:t.ButtonTextColor,r.rejectbuttonFocusColor=null!==o&&null!==o.bannerData&&null!==o.bannerData.general&&void 0!==o.bannerData.general.buttonFocusColor&&""!==o.bannerData.general.buttonFocusColor?o.bannerData.general.buttonFocusColor:t.ButtonColor,r.rejectbuttonTextFocusColor=null!==o&&null!==o.bannerData&&null!==o.bannerData.general&&void 0!==o.bannerData.general.buttonFocusTextColor&&""!==o.bannerData.general.buttonFocusTextColor?o.bannerData.general.buttonFocusTextColor:t.ButtonTextColor,r.pcbuttonColor=null!==n&&null!==n.showPreferences&&null!==n.showPreferences.color&&""!==n.showPreferences.color?n.showPreferences.color:t.BannerMPButtonColor,r.pcbuttonTextColor=null!==n&&null!==n.showPreferences&&null!==n.showPreferences.textColor&&""!==n.showPreferences.textColor?n.showPreferences.textColor:t.BannerMPButtonTextColor,r.pcbuttonFocusColor=null!==o&&null!==o.bannerData&&null!==o.bannerData.general&&void 0!==o.bannerData.general.buttonFocusColor&&""!==o.bannerData.general.buttonFocusColor?o.bannerData.general.buttonFocusColor:t.BannerMPButtonTextColor,r.pcbuttonTextFocusColor=null!==o&&null!==o.bannerData&&null!==o.bannerData.general&&void 0!==o.bannerData.general.buttonFocusTextColor&&""!==o.bannerData.general.buttonFocusTextColor?o.bannerData.general.buttonFocusTextColor:t.BannerMPButtonColor,r.vendorLinkColor=null!==o&&null!==o.bannerData&&void 0!==o.bannerData.links&&void 0!==o.bannerData.links.vendorListLink&&null!==o.bannerData.links.vendorListLink.color&&""!==o.bannerData.links.vendorListLink.color?o.bannerData.links.vendorListLink.color:"",r}(),t.BannerDPDTitle=o.BannerDPDTitle,t.BannerDPDDescription=o.BannerDPDDescription,t.BannerIABPartnersLink=o.BannerIABPartnersLink,t.showBannerCloseButton=o.showBannerCloseButton,t.BannerAdditionalDescription=o.BannerAdditionalDescription,t.BannerAdditionalDescPlacement=o.BannerAdditionalDescPlacement,t.BannerSettingsButtonDisplayLink=o.BannerSettingsButtonDisplayLink,t.isIAB=W(),t}function M(){const e={},t=s();if(!t||0===Object.keys(t).length)return e;const o=t.culture.DomainData,n=t.culture.CommonData,r=t.culture.OTTData,a=t.culture.MobileData;return e.OptanonLogo=n.OptanonLogo,e.MainText=o.MainText,e.MainInfoText=o.MainInfoText,e.PreferenceCenterConfirmText=o.PreferenceCenterConfirmText,e.ConfirmText=o.ConfirmText,e.PCenterShowRejectAllButton=o.PCenterShowRejectAllButton,e.PCenterRejectAllButtonText=o.PCenterRejectAllButtonText,e.styleData=Te(),e.VendorListText=o.VendorListText,e.PCIABVendorsText=o.PCIABVendorsText,e.BannerIABPartnersLink=o.BannerIABPartnersLink,e.ShowPreferenceCenterCloseButton=o.ShowPreferenceCenterCloseButton,e.AlwaysActiveText=o.AlwaysActiveText,e.BLegitInterestText=n.BLegitInterestText,e.Groups=l(),e.isIAB=W(),e.LegIntSettings=re(),e.BConsentText=n.BConsentText,e.activeText=r.preferenceCenterData.purposeList.ActiveText,e.inactiveText=r.preferenceCenterData.purposeList.InactiveText,e.subCategoryHeaderText=r.preferenceCenterData.purposeList.SubCategoryHeaderText,e.PCGoogleVendorsText=a.preferenceCenterData.googleVendors.general.text,e.UseGoogleVendors=a.preferenceCenterData.googleVendors.general.show,e.showParentToggle=!1,e.showPartnersIAB=!1,H("Preference center is called"),e}function J(){const e={},t=s();if(!t||0===Object.keys(t).length)return e;const o=t.culture.DomainData,n=t.culture.CommonData,r=t.culture.OTTData;return e.OptanonLogo=n.OptanonLogo,e.styleData=Te(),e.LegIntSettings=re(),e.PCenterVendorsListText=o.PCenterVendorsListText,e.PCenterViewPrivacyPolicyText=o.PCenterViewPrivacyPolicyText,e.PCenterAllowAllConsentText=o.PCenterAllowAllConsentText,e.VendorListNonCookieUsage=o.PCenterVendorListNonCookieUsage,e.VendorListLifespan=o.PCenterVendorListLifespan,e.LifespanTypeText=o.LifespanTypeText,e.VendorListLifespanDay=o.PCenterVendorListLifespanDay,e.VendorListLifespanDays=o.PCenterVendorListLifespanDays,e.VendorListLifespanMonth=o.PCenterVendorListLifespanMonth,e.VendorListLifespanMonths=o.PCenterVendorListLifespanMonths,e.ConsentPurposesText=n.BConsentPurposesText,e.SpecialPurposesText=n.BSpecialPurposesText,e.LIPurposesText=n.BLegitimateInterestPurposesText,e.FeaturesText=n.BFeaturesText,e.SpecialFeaturesText=n.BSpecialFeaturesText,e.BConsentText=n.BConsentText,e.BLegitInterestText=n.BLegitInterestText,e.VendorListDisclosure=o.PCenterVendorListDisclosure,e.VendorListStorageIdentifier=o.PCenterVendorListStorageIdentifier,e.VendorListStorageType=o.PCenterVendorListStorageType,e.VendorListStorageDomain=o.PCenterVendorListStorageDomain,e.VendorListStoragePurposes=o.PCenterVendorListStoragePurposes,e.PreferenceCenterConfirmText=o.PreferenceCenterConfirmText,e.ConfirmText=o.ConfirmText,e.PCenterShowRejectAllButton=o.PCenterShowRejectAllButton,e.PCenterRejectAllButtonText=o.PCenterRejectAllButtonText,e.PCenterClearFiltersText=o.PCenterClearFiltersText,e.showFilter=!1,e.activeText=r.preferenceCenterData.purposeList.ActiveText,e.inactiveText=r.preferenceCenterData.purposeList.InactiveText,e.searchNoResultsFoundText=r.vendorListData.general.searchNoResultsFoundText,e.iabGroups=function(){const e=s().culture.DomainData.Groups,t={purpose:{},sp:{},feature:{},sf:{}};return e.forEach((function(e){const o=((r=e.CustomGroupId).indexOf("ISPV2_")>-1?r=r.replace("ISPV2_",""):r.indexOf("IABV2_")>-1?r=r.replace("IABV2_",""):r.indexOf("IFEV2_")>-1?r=r.replace("IFEV2_",""):r.indexOf("ISFV2_")>-1&&(r=r.replace("ISFV2_","")),r),n=e.GroupName;var r;switch(e.Type){case"IAB2_PURPOSE":t.purpose[o]=n;break;case"IAB2_SPL_PURPOSE":t.sp[o]=n;break;case"IAB2_FEATURE":t.feature[o]=n;break;case"IAB2_SPL_FEATURE":t.sf[o]=n}})),t}(),e.PCGoogleVendorsText=o.PCGoogleVendorsText,H("vendorPage is called"),e}function K(e){const t=s();if(!t||0===Object.keys(t).length)return void H("SDK data is null");const o=a();o&&"banner"===e?(H("showBanner -> "+o),localStorage.setItem("OneTrust_didShowBanner",!0),localStorage.setItem("OneTrust_BannerShownTime",parseInt((new Date).getTime()/1e3)),location.href="OTPublishersSDK/views/banner.html"):o&&"preferencecenter"===e?(H("onShowpreference called"),location.href="OTPublishersSDK/views/PreferenceCenter.html"):H("setupUI - no nav because no matching rules")}function H(e){let t;t=sessionStorage.getItem("sessionLogs")?sessionStorage.getItem("sessionLogs")+"\n["+(new Date).toLocaleTimeString()+"] "+e:"["+(new Date).toLocaleTimeString()+"] "+e,sessionStorage.setItem("sessionLogs",t)}function Y(e,t){const o=t.culture.DomainData.Groups;for(const t in o){const n=o[t],r=n.PurposeId;if(e.toLowerCase()===r.toLowerCase())return n.CustomGroupId}}function Q(e,t){switch(e){case"ACTIVE":return"active";case"ALWAYS_ACTIVE":return"always active";case"NO_CONSENT":return"opt-out"===t.culture.DomainData.VendorConsentModel.toLowerCase()?"active":"inactive";case"PENDING":case"OPT_OUT":case"EXPIRED":case"WITHDRAWN":return"inactive"}}function W(){const e=s();return!!e&&"IAB2"===e.domain.ruleDetails.type}async function q(){let e=(new Date).getTime().toString();localStorage.setItem("OneTrust_lastConsentDate",e),k();const t=[];ne().forEach((function(e){t.push(e.CustomGroupId)})),localStorage.setItem("OneTrust_categoriesAvailableLastInteraction",JSON.stringify(t))}function $(e,t){let o,n,r;const s=[],a=l();if(null==a)return s;for(const l in a)if(n=a[l],n.Type.toUpperCase()===e&&n[t]&&("always active"===n[t].toString()||"active"===n[t].toString())){r=n.CustomGroupId.toString(),o=r.split("_");const e=o[o.length-1].toString().trim();s.push(parseInt(e))}return s}function X(e,t){try{return parseInt(e).toString(2).padLeft(t,"0")}catch(e){throw e}}function Z(e,t){let o=0,n=null;try{return o=parseInt((e.getTime()/100).toString()),n=o.toString(2).padLeft(t,"0"),n}catch(e){throw e}}function z(e,t){const o=[];let n=null,r=null;try{for(let s=0;s<t;s++){n=(s+1).toString(),r="0";for(let t in e)if(String(e[t])===n){r="1";break}o.push(r)}return o.join("")}catch(e){throw e}}function ee(e){let t,o=0;try{for(let n=0;n<e.length;n++)t=parseInt(e[n]),t>o&&(o=t);return o}catch(e){throw e}}function te(e){let t,o=0,n=0,r="",s=0;o=e.length,n=8*parseInt((o/8).toString())-o,r=e.padRight(o+n,"0"),s=parseInt((r.length/8).toString()),t=new Uint8Array(s);for(let e=0;e<s;e++){let o=r.substr(8*e,8),n=parseInt(o,2);n>127&&(n-=256),t[e]=n}let a=btoa(String.fromCharCode.apply(null,t));return a=a.replace(new RegExp("\\+","g"),"-"),a=a.replace(new RegExp("/","g"),"_"),a=a.replace(new RegExp("=","g"),""),a}function oe(){if(!W())return 0;const e=function(e){const t=s().culture.DomainData.Groups;for(const e in t){const o=t[e];if("IABV2_1"===o.CustomGroupId)return o}return null}();return e&&e.ShowInPopup?e.ShowInPopup?0:1:0}function ne(){const e=s().culture.DomainData.Groups,t=[];return e.forEach((function(o){const n=function(e,t){let o=!1;return t.forEach((function(t){t.Parent===e&&(o=!0)})),o}(o.OptanonGroupId,e),r="OneTrust_CustomGroupId_"+o.CustomGroupId,s="OneTrust_CustomGroupId_LI_"+o.CustomGroupId;(o.FirstPartyCookies.length>0||o.IsIabPurpose||n)&&(localStorage.getItem(r)&&(o.Status=localStorage.getItem(r)),localStorage.getItem(s)&&(o.HasLegIntOptOutStatus=localStorage.getItem(s)),o.isParent=n,t.push(o))})),t}function re(){const e=s().culture.DomainData.LegIntSettings;let t=null;return null!=e&&(t=e),t}function se(){const e=localStorage.getItem("OneTrust_sdk_keys");if(e){const t=JSON.parse(atob(e));return t.syncProfileAuth&&t.syncProfileAuth.trim().length>0}return!1}String.prototype.padLeft=function(e,t){return this.padStart(e,t)},String.prototype.padRight=function(e,t){return this.padEnd(e,t)};const ae=async(e,t)=>{const o=s().culture,r=s().domain;if(!o.DomainData.IsConsentLoggingEnabled)return H("Consent Logging NOT Enabled"),{info:"Consent Logging NOT Enabled"};const a=o.CommonData.ConsentIntegration,l=a.ConsentApi,c=a.RequestInformation,u=new Headers;u.append("Content-Type","application/json"),u.append("cache-control","no-cache");let i=!0;JSON.parse(atob(localStorage.getItem("OneTrust_sdk_keys"))).shouldCreateProfile&&"true"===localStorage.getItem("OneTrust_datasubjectID_known")&&(i=!1),H("dataSubject isAnonymous ->"+i.toString());const g=G(),d={requestInformation:c,identifier:n(),test:"test"===s().domain.ScriptType.toLowerCase(),isAnonymous:i,tcStringV2:g,customPayload:{Interaction:1,AddDefaultInteraction:!0},purposes:e,dsDataElements:{},syncGroup:r.SyncGroupId};o.DomainData.AdvancedAnalyticsCategory&&o.DomainData.AdvancedAnalyticsCategory.trim().length>0&&(d.dsDataElements.UserAgent=navigator.userAgent,d.dsDataElements.Country=s().domain.countryCode,d.dsDataElements.InteractionType=t),H("Consent request ->"+JSON.stringify(d));const I={method:"POST",headers:u,redirect:"follow",body:JSON.stringify(d)},C=await fetch(l,I).catch((e=>{throw e}));if(!C.ok)throw H("response.statusText -> "+C.statusText),new Error(C.statusText);return localStorage.setItem("OneTrust_Receipt",JSON.stringify(C)),localStorage.setItem("OneTrust_Receipt_Date",((new Date).getTime()/1e3).toString()),C.json()};function le(){s().culture.DomainData.Groups.forEach((function(e){const t=e.CustomGroupId;if(e.IsIabPurpose){const e="OneTrust_CustomGroupId_"+t,o="OneTrust_CustomGroupId_LI_"+t;localStorage.getItem(e)&&localStorage.removeItem(e),localStorage.getItem(o)&&localStorage.removeItem(o)}})),localStorage.removeItem("OneTrust_VendorList"),localStorage.removeItem("OneTrust_vendorLIUserSelections"),localStorage.removeItem("OneTrust_vendorConsentUserSelections"),localStorage.removeItem("OneTrust_saveQueue_vendor"),localStorage.removeItem("OneTrust_saveQueue_vendor_li"),localStorage.removeItem("OneTrust_Google_VendorList"),localStorage.removeItem("OneTrust_vendorGoogleConsentUserSelections")}function ce(){window.dispatchEvent(new CustomEvent("OneTrustGroupsUpdated",{detail:c()}))}let ue,ie,ge,de;const Ie=async e=>{if(!e||!e.searchTerm||0==e.searchTerm.trim().length)return b().vendors;if(ie!==e.fieldName&&(ie=e.fieldName,ue=null),!ue){ue=[];const t=b().vendors,o=Object.keys(t);for(let n=0;n<o.length;n++){const r=o[n],s=e.fieldName,a=t[r][s].toLowerCase();ue.push({id:r,fieldName:a})}}const t=e.searchTerm.toLowerCase();t.startsWith(ge)||(de=ue),ge=t,de=de.filter((e=>-1!==e.fieldName.indexOf(t)));const o={},n=b().vendors;return de.forEach((function(e){const t=e.id.toString();o[t]=n[t]})),o};function Ce(e,t,o){let n="unknown metricEnum",r=0;try{switch(r=Math.abs((o-t)/1e3),e){case 1:n=`Time taken for OT SDK setup data fetch: ${r} seconds.`;break;case 2:n=`Time taken for IAB vendor list data setup: ${r} seconds.`;break;case 3:n=`Time taken for Google vendor list data setup: ${r} seconds.`;break;case 4:n=`Time taken for OT SDK data setup: ${r} seconds.`}H("logExecutionTime -> "+n.toString())}catch(e){H("logExecutionTime -> "+e.toString())}finally{n=null,r=null}}function pe(e){var t="";"DISMISS_BANNER"!==e&&"DEFAULT_CONSENT_AND_CLOSE_BANNER"!==e||(t=e),localStorage.setItem("OneTrust_backButtonMode",t)}function Te(){const e=s(),t=e.culture.CommonData,o=e.culture.OTTData.preferenceCenterData,n=o.buttons,r={textColor:"",backgroundColor:"",buttonColor:"",buttonTextColor:"",buttonFocusColor:"",buttonTextFocusColor:"",activeColor:"",activeTextColor:"",acceptbuttonColor:"",acceptbuttonTextColor:"",acceptbuttonFocusColor:"",acceptbuttonTextFocusColor:"",rejectbuttonColor:"",rejectbuttonTextColor:"",rejectbuttonFocusColor:"",rejectbuttonTextFocusColor:"",pcbuttonColor:"",pcbuttonTextColor:"",pcbuttonFocusColor:"",pcbuttonTextFocusColor:"",customCSS:t.PCCustomCSS};return r.textColor=null!==o&&null!==o.general&&null!==o.general.textColor&&""!==o.general.textColor?o.general.textColor:t.PcTextColor,r.backgroundColor=null!==o&&null!==o.general&&null!==o.general.backgroundColor&&""!==o.general.backgroundColor?o.general.backgroundColor:t.PcBackgroundColor,r.buttonColor=null!==o&&void 0!==o.menu&&null!==o.menu.color&&""!==o.menu.color?o.menu.color:t.PcTextColor,r.buttonTextColor=null!==o&&void 0!==o.menu&&null!==o.menu.textColor&&""!==o.menu.textColor?o.menu.textColor:t.PcBackgroundColor,r.buttonFocusColor=null!==o&&void 0!==o.menu&&null!==o.menu.focusColor&&""!==o.menu.focusColor?o.menu.focusColor:t.PcButtonColor,r.buttonTextFocusColor=null!==o&&void 0!==o.menu&&null!==o.menu.focusTextColor&&""!==o.menu.focusTextColor?o.menu.focusTextColor:t.PcButtonTextColor,r.activeColor=null!==o&&void 0!==o.menu&&null!==o.menu.activeColor&&""!==o.menu.activeColor?o.menu.activeColor:t.PcButtonTextColor,r.activeTextColor=null!==o&&void 0!==o.menu&&null!==o.menu.activeTextColor&&""!==o.menu.activeTextColor?o.menu.activeTextColor:t.PcButtonColor,r.acceptbuttonColor=null!==n&&null!==n.acceptAll&&null!==n.acceptAll.color&&""!==n.acceptAll.color?n.acceptAll.color:t.PcButtonColor,r.acceptbuttonTextColor=null!==n&&null!==n.acceptAll&&null!==n.acceptAll.textColor&&""!==n.acceptAll.textColor?n.acceptAll.textColor:t.PcButtonTextColor,r.acceptbuttonFocusColor=null!==o&&null!==o.general&&void 0!==o.general.buttonFocusColor&&""!==o.general.buttonFocusColor?o.general.buttonFocusColor:t.PcButtonColor,r.acceptbuttonTextFocusColor=null!==o&&null!==o.general&&void 0!==o.general.buttonFocusTextColor&&""!==o.general.buttonFocusTextColor?o.general.buttonFocusTextColor:t.PcButtonTextColor,r.rejectbuttonColor=null!==n&&null!==n.rejectAll&&null!==n.rejectAll.color&&""!==n.rejectAll.color?n.rejectAll.color:t.PcButtonColor,r.rejectbuttonTextColor=null!==n&&null!==n.rejectAll&&null!==n.rejectAll.textColor&&""!==n.rejectAll.textColor?n.rejectAll.textColor:t.PcButtonTextColor,r.rejectbuttonFocusColor=null!==o&&null!==o.general&&void 0!==o.general.buttonFocusColor&&""!==o.general.buttonFocusColor?o.general.buttonFocusColor:t.PcButtonColor,r.rejectbuttonTextFocusColor=null!==o&&null!==o.general&&void 0!==o.general.buttonFocusTextColor&&""!==o.general.buttonFocusTextColor?o.general.buttonFocusTextColor:t.PcButtonTextColor,r.pcbuttonColor=null!==n&&null!==n.showPreferences&&null!==n.showPreferences.color&&""!==n.showPreferences.color?n.showPreferences.color:t.PcButtonColor,r.pcbuttonTextColor=null!==n&&null!==n.showPreferences&&null!==n.showPreferences.textColor&&""!==n.showPreferences.textColor?n.showPreferences.textColor:t.PcButtonTextColor,r.pcbuttonFocusColor=null!==o&&null!==o.general&&void 0!==o.general.buttonFocusColor&&""!==o.general.buttonFocusColor?o.general.buttonFocusColor:t.PcButtonColor,r.pcbuttonTextFocusColor=null!==o&&null!==o.general&&void 0!==o.general.buttonFocusTextColor&&""!==o.general.buttonFocusTextColor?o.general.buttonFocusTextColor:t.PcButtonTextColor,r}const Se=async()=>{const e=OTCMP.getOTSDKData();if(e){const t=e.culture.DomainData.ReconsentFrequencyDays;H(`performAutomaticReconsentOverride -> Setting last consent date to today minus ${t} days.`);const o=Date.now()-864e5*t;H(`performAutomaticReconsentOverride -> New consent timestamp is now ${o}`),localStorage.setItem("OneTrust_lastConsentDate",o.toString());const n=JSON.parse(atob(localStorage.getItem("OneTrust_sdk_keys")));return await OTCMP.startSDK(n)}H("performAutomaticReconsentOverride -> There is no OneTrust Data!")},he=function(){const e=OTCMP.getOTSDKData();let t=!1;if(e){const o=e.status.profile.code;o&&200===o&&(t=e.profile.sync.shouldShowBannerAsConsentExpired)}return t};OTCMP=t})();